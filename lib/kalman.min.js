//kalmanjs, LGPL-3.0, https://github.com/wouterbulten/kalmanjs
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),KalmanFilter=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.R,s=void 0===i?1:i,n=e.Q,r=void 0===n?1:n,a=e.A,h=void 0===a?1:a,o=e.B,u=void 0===o?0:o,l=e.C,c=void 0===l?1:l;_classCallCheck(this,t),this.R=s,this.Q=r,this.A=h,this.C=c,this.B=u,this.cov=NaN,this.x=NaN}return _createClass(t,[{key:"filter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(isNaN(this.x))this.x=1/this.C*t,this.cov=1/this.C*this.Q*(1/this.C);else{var i=this.predict(e),s=this.uncertainty(),n=s*this.C*(1/(this.C*s*this.C+this.Q));this.x=i+n*(t-this.C*i),this.cov=s-n*this.C*s}return this.x}},{key:"predict",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.A*this.x+this.B*t}},{key:"uncertainty",value:function(){return this.A*this.cov*this.A+this.R}},{key:"lastMeasurement",value:function(){return this.x}},{key:"setMeasurementNoise",value:function(t){this.Q=t}},{key:"setProcessNoise",value:function(t){this.R=t}}]),t}();exports.default=KalmanFilter;
//# sourceMappingURL=lib/kalman.min.js.map